document.addEventListener("DOMContentLoaded", function () {
    if (document.querySelector('#map')) {
        ymaps.ready(init);

        function init() {
            // Создаем SVG-иконку
            var svgIcon = `<svg width="70" height="70" viewBox="0 0 70 70" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect width="70" height="70" rx="35" fill="#002D82"/>
<g clip-path="url(#clip0_192_3781)">
<path d="M60.0775 26.0201C59.9833 26.9692 59.6134 27.3984 59.4354 27.224C59.254 27.0425 59.9274 25.5455 59.0795 23.8356C58.7375 23.1586 57.5685 23.3959 57.9314 24.2753C58.2664 24.9697 58.0501 26.7912 57.6383 26.3132C57.2126 25.8212 57.3801 24.5859 55.726 23.5425C54.7909 23.0505 54.2221 24.0101 55.077 24.6103C55.9284 25.2105 56.4833 27.3286 55.4155 27.8242C54.3477 28.3232 53.8626 27.025 53.6882 26.3446C53.5172 25.6641 52.2505 25.4234 52.5192 27.3042C52.7006 28.557 53.245 30.0121 55.3003 30.9996C54.571 33.5923 51.8945 37.4273 48.5237 38.6731C48.412 35.707 47.9479 33.1352 47.1872 31.2334C45.8193 27.8067 43.729 27.0879 42.2181 27.0879C40.2325 27.0879 38.9903 28.1557 37.891 29.0978C37.5037 29.4328 37.1303 29.7364 36.7604 30.0016C34.8447 31.3905 32.8801 31.7848 31.6169 31.9104C31.3831 31.9348 31.2365 31.6626 31.3866 31.4812C31.7111 31.0973 32.3532 30.7205 33.065 30.3261C33.2255 30.2354 33.2395 30.0121 33.0895 29.9074C32.7614 29.6701 32.4369 29.3944 32.0984 29.1013C31.0551 28.201 29.7569 27.0844 27.7679 27.0844C26.2569 27.0844 24.1702 27.8032 22.7988 31.2299C22.0416 33.1282 21.5775 35.7 21.4623 38.6696C18.0914 37.4239 15.415 33.5889 14.6857 30.9961C16.7445 30.0086 17.2889 28.557 17.4668 27.3007C17.7355 25.4199 16.4688 25.6606 16.2978 26.3411C16.1268 27.0216 15.6418 28.3197 14.574 27.8207C13.5097 27.3251 14.0575 25.207 14.909 24.6068C15.7639 24.0066 15.1951 23.047 14.2599 23.539C12.6059 24.5789 12.7734 25.8142 12.3477 26.3097C11.9359 26.7912 11.7196 24.9697 12.0546 24.2718C12.4175 23.3924 11.2485 23.1586 10.91 23.8321C10.0585 25.542 10.7285 27.039 10.5506 27.2205C10.3691 27.3984 10.0027 26.9657 9.90849 26.0166C9.81428 25.0709 8.77788 25.4722 8.73601 26.1387C8.67669 28.6128 10.5227 31.5684 12.8606 31.5265C13.7819 34.7613 17.1283 39.4059 21.4309 40.6517C21.4763 44.7065 22.1253 49.1591 23.1757 52.558C24.4389 56.6512 26.079 58.8147 27.9145 58.8147C30.5212 58.8147 31.2889 57.192 31.903 55.8904C32.5172 54.5819 32.9987 53.5525 34.9843 53.5525C36.9698 53.5525 37.4514 54.5784 38.0655 55.8835C38.6797 57.1921 39.4439 58.8147 42.0575 58.8147C43.893 58.8147 45.5331 56.6477 46.7998 52.558C47.8432 49.1661 48.4957 44.717 48.5411 40.6517C52.8437 39.4059 56.1867 34.7613 57.1114 31.5265C59.4494 31.5684 61.2953 28.6093 61.236 26.1387C61.1976 25.4722 60.1578 25.0744 60.0635 26.0166L60.0775 26.0201ZM37.4304 39.7967C37.5142 39.5594 37.6782 39.4129 37.8945 39.3256C37.7166 39.0639 37.6084 38.7254 37.6084 38.3625C37.6084 37.5216 38.1772 36.8341 38.8751 36.8341C39.573 36.8341 40.1418 37.5216 40.1418 38.3625C40.1418 38.7848 39.9987 39.1651 39.7719 39.4408C40.0755 39.5874 40.3058 39.8072 40.3756 40.0445C40.393 40.1073 40.3302 40.1666 40.2674 40.1492C39.5765 39.9712 38.6169 39.863 37.5177 39.9119C37.4549 39.9119 37.4095 39.8526 37.4304 39.7932V39.7967ZM29.5999 40.048C29.6662 39.8107 29.8965 39.5909 30.2036 39.4443C29.9733 39.1686 29.8302 38.7883 29.8302 38.366C29.8302 37.525 30.399 36.8376 31.0969 36.8376C31.7948 36.8376 32.3636 37.525 32.3636 38.366C32.3636 38.7289 32.2555 39.0674 32.0775 39.3291C32.2938 39.4129 32.4578 39.5629 32.5416 39.8002C32.5625 39.8595 32.5172 39.9224 32.4544 39.9189C31.3552 39.87 30.399 39.9782 29.7046 40.1562C29.6418 40.1701 29.579 40.1108 29.5999 40.0515V40.048ZM41.0421 46.9189C40.9863 47.0096 40.8432 46.9887 40.8153 46.884C40.7525 46.6502 40.6722 46.4268 40.5815 46.2175C39.5939 47.0096 37.3257 48.0948 34.9878 48.0948C32.6498 48.0948 30.3781 47.0096 29.394 46.2175C29.3033 46.4268 29.2231 46.6502 29.1602 46.884C29.1323 46.9852 28.9927 47.0061 28.9334 46.9189C28.0645 45.5649 29.1707 43.9528 30.5072 44.2564C30.6014 44.2808 30.6363 44.3959 30.57 44.4657C30.4479 44.5913 30.3188 44.7379 30.1862 44.9054C31.0446 45.5963 33.0755 46.6292 34.9912 46.6292C36.907 46.6292 38.9379 45.5963 39.7963 44.9054C39.6637 44.7379 39.5311 44.5913 39.4125 44.4657C39.3462 44.3959 39.3811 44.2808 39.4753 44.2564C40.8153 43.9563 41.918 45.5649 41.0491 46.9189H41.0421Z" fill="white"/>
<path d="M50.6035 16.9886C51.6224 18.7473 54.2884 23.0674 55.5656 25.1297C55.9459 25.7473 55.7331 26.5569 55.098 26.9058C54.4629 27.2548 53.6638 27.0001 53.3497 26.3475C52.2959 24.1596 50.0835 19.5918 49.1448 17.7877C48.9494 17.4143 48.8029 17.02 48.7331 16.6013C48.6633 16.186 48.5237 15.7847 48.3213 15.4148L47.6409 14.176C47.5955 14.0958 47.5083 14.0469 47.414 14.0574C46.765 14.1272 46.1055 13.7503 45.8821 13.0559C45.7042 12.508 45.8821 11.8869 46.3288 11.5205C46.4021 11.4577 46.4823 11.4053 46.5626 11.36C46.6428 11.3146 46.7301 11.2762 46.8243 11.2483C47.3722 11.0704 47.9933 11.2518 48.3597 11.695C48.8273 12.2603 48.7924 13.0175 48.3841 13.527C48.3248 13.5968 48.3178 13.698 48.3632 13.7817L49.0436 15.0205C49.246 15.3904 49.5112 15.7219 49.8253 16.0045C50.1394 16.2872 50.3941 16.6222 50.6035 16.9886Z" fill="white"/>
</g>
<defs>
<clipPath id="clip0_192_3781">
<rect width="52.5" height="47.6356" fill="white" transform="translate(8.75 11.1826)"/>
</clipPath>
</defs>
</svg>
`;

            // Создаем карту
            var myMap = new ymaps.Map("map", {
                center: [61.24913585787984, 73.42215473212423], // Москва
                zoom: 16,
                controls: []
            }, {
                // Устанавливаем черно-белую палитру
                geoObjectOpenBalloonIconLayout: "default#image",
                suppressMapOpenBlock: true
            });

            // Создаем метку с SVG-иконкой
            var myPlacemark = new ymaps.Placemark([61.24913585787984, 73.42215473212423], {}, {
                iconLayout: 'default#image',
                iconImageHref: 'data:image/svg+xml;base64,' + btoa(svgIcon),
                iconImageSize: [63, 73],
                iconImageOffset: [-31.5, -73]
            });

            // Добавляем метку на карту
            myMap.geoObjects.add(myPlacemark);
        }
    }
})